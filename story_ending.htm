<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>숲속 모험: 나만의 이야기</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
        }
        .story-container {
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 600px;
            width: 100%;
        }
        #story-text {
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 25px;
            color: #333;
        }
        .choices-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .choice-button {
            background-color: #4CAF50;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease;
        }
        .choice-button:hover {
            background-color: #45a049;
        }
        .reset-button {
            background-color: #008CBA;
            margin-top: 20px;
        }
        .reset-button:hover {
            background-color: #007bb5;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="story-container">
        <h1>숲속 모험</h1>
        <p id="story-text">여기에 이야기가 표시됩니다.</p>
        <div id="choices" class="choices-container">
            </div>
        <button id="reset-button" class="choice-button reset-button hidden" onclick="startGame()">처음부터 다시 시작</button>
    </div>

    <script>
        // 게임의 모든 이야기와 선택지를 정의합니다.
        const game = {
            start: {
                text: "깊은 숲속, 당신은 낡은 지도를 들고 서 있습니다. 지도에는 두 갈래 길이 표시되어 있습니다.",
                choices: [
                    { text: "왼쪽 길로 간다. (조용하고 어두워 보임)", next: "leftPath" },
                    { text: "오른쪽 길로 간다. (햇빛이 비치고 새소리가 들림)", next: "rightPath" }
                ]
            },
            leftPath: {
                text: "왼쪽 길은 점점 더 깊고 어두워집니다. 저 멀리 희미한 빛이 보입니다. 오래된 오두막집 같습니다.",
                choices: [
                    { text: "오두막으로 다가간다.", next: "cabin" },
                    { text: "빛을 무시하고 계속 길을 걷는다.", next: "continueLeft" }
                ]
            },
            rightPath: {
                text: "오른쪽 길은 따스한 햇살 아래 아름다운 꽃들이 피어 있습니다. 작은 냇물이 졸졸 흐르고 있습니다.",
                choices: [
                    { text: "냇물을 따라 상류로 올라간다.", next: "riverUp" },
                    { text: "냇물을 건너 반대편 숲으로 들어간다.", next: "crossRiver" }
                ]
            },
            cabin: {
                text: "오두막 문이 삐걱이며 열립니다. 안에는 촛불 하나와 낡은 책상 위에 반짝이는 보석 상자가 있습니다.",
                choices: [
                    { text: "보석 상자를 연다.", next: "openJewelBox" },
                    { text: "상자를 열지 않고 오두막을 떠난다.", next: "leaveCabin" }
                ]
            },
            continueLeft: {
                text: "당신은 빛을 무시하고 계속 걸었지만, 길은 점점 험해지고 덩굴에 가로막혀 더 이상 나아갈 수 없게 되었습니다. 결국 길을 되돌아갑니다. (게임 종료)",
                choices: [] // 선택지가 없으면 게임 종료
            },
            riverUp: {
                text: "냇물을 따라 올라가니 신비로운 폭포와 그 뒤에 숨겨진 동굴을 발견했습니다. 동굴 안에서 알 수 없는 빛이 새어 나옵니다.",
                choices: [
                    { text: "동굴 안으로 들어간다.", next: "enterCave" },
                    { text: "폭포 옆에서 잠시 쉬어간다.", next: "restAtWaterfall" }
                ]
            },
            crossRiver: {
                text: "냇물을 건너자마자 길은 끊기고 깊은 진흙탕이 나타납니다. 당신은 더 이상 나아갈 수 없습니다. (게임 종료)",
                choices: [] // 선택지가 없으면 게임 종료
            },
            openJewelBox: {
                text: "보석 상자를 열자 눈부신 빛이 뿜어져 나오며 당신의 모험은 성공적으로 끝났습니다! 당신은 영원히 기억될 영웅이 되었습니다. (게임 종료)",
                choices: [] // 엔딩
            },
            leaveCabin: {
                text: "오두막을 떠나 다시 길을 걷습니다. 하지만 길을 찾지 못하고 헤매다 결국 지쳐 쓰러집니다. (게임 종료)",
                choices: [] // 엔딩
            },
            enterCave: {
                text: "동굴 안으로 들어서자 따뜻한 빛이 당신을 감싸며 새로운 세상으로 인도합니다! 당신은 전설 속의 현자가 되었습니다. (게임 종료)",
                choices: [] // 엔딩
            },
            restAtWaterfall: {
                text: "폭포 옆에서 쉬고 있자니 아름다운 요정이 나타나 당신에게 지친 몸을 치유해 주었습니다. 당신은 새로운 힘을 얻어 모험을 계속할 수 있습니다! (게임 종료)",
                choices: [] // 엔딩
            }
        };

        let currentScene = 'start'; // 현재 진행 중인 이야기의 장면

        const storyTextElement = document.getElementById('story-text');
        const choicesContainer = document.getElementById('choices');
        const resetButton = document.getElementById('reset-button');

        // 현재 장면에 맞춰 화면을 업데이트하는 함수
        function updateScene() {
            const scene = game[currentScene];
            storyTextElement.textContent = scene.text;

            // 기존 선택지 버튼들을 모두 제거
            choicesContainer.innerHTML = '';
            resetButton.classList.add('hidden'); // 리셋 버튼 숨기기

            if (scene.choices.length > 0) {
                // 새로운 선택지 버튼들을 생성
                scene.choices.forEach(choice => {
                    const button = document.createElement('button');
                    button.classList.add('choice-button');
                    button.textContent = choice.text;
                    button.onclick = () => choose(choice.next);
                    choicesContainer.appendChild(button);
                });
            } else {
                // 선택지가 없으면 게임 종료 및 다시 시작 버튼 표시
                choicesContainer.innerHTML = '<p>이야기가 끝났습니다!</p>';
                resetButton.classList.remove('hidden');
            }
        }

        // 선택했을 때 다음 장면으로 이동하는 함수
        function choose(nextScene) {
            currentScene = nextScene;
            updateScene();
        }

        // 게임을 처음부터 다시 시작하는 함수
        function startGame() {
            currentScene = 'start';
            updateScene();
        }

        // 페이지 로드 시 게임 시작
        startGame();
    </script>
</body>
</html>